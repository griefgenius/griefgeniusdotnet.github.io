<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grief genius | multimodal collective</title>

    <meta name="description" content="the only way through is throughout - a multimodal collective on planet earth">
    <meta name="keywords" content="media collective, sound design, western mass, grief genius, moon mansion, galactic north, lofi, brutalism">
    <meta name="author" content="Grief Genius">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://griefgenius.com/">
    <meta property="og:title" content="grief genius | multimodal collective">
    <meta property="og:description" content="the only way through is throughout - a multimodal collective on planet earth">
    <meta property="og:image" content="cloud6.jpg">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://griefgenius.com/">
    <meta property="twitter:title" content="grief genius | multimodal collective">
    <meta property="twitter:description" content="the only way through is throughout - a multimodal collective on planet earth">
    <meta property="twitter:image" content="cloud6.jpg">

    <link rel="icon" type="image/jpg" href="cloud6.jpg">

    <style>
        /* --- PALETTE --- */
        :root {
            --canvas: #F2F0E9;      /* Unbleached Paper */
            --ink: #1A1A1A;         /* Soft Black */
            --kermit: #69b400;      /* The Green */
            --celestial: #088ec9;   /* The Blue */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: var(--canvas);
            color: var(--ink);
            font-family: 'Courier New', Courier, monospace;
            line-height: 1.4;
            overflow-x: hidden;
        }

        /* --- THE HLSF CANVAS (BACKGROUND) --- */
        #hlsf-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0; 
            pointer-events: none; 
            opacity: 1.0; 
        }

        /* --- THE GRID --- */
        .container {
            position: relative;
            z-index: 1;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            min-height: 100vh;
            border: 2px solid var(--ink);
            margin: 20px;
            background: rgba(242, 240, 233, 0.4); 
            backdrop-filter: blur(2px); 
        }

        /* --- HEADER --- */
        .header {
            grid-column: 1 / span 8;
            padding: 40px;
            border-bottom: 2px solid var(--ink);
            border-right: 2px solid var(--ink);
        }

        .symbol {
            grid-column: 9 / span 4;
            background-color: var(--celestial);
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 2px solid var(--ink);
            position: relative; /* For the mini canvas positioning */
        }

        /* PLAY BUTTON CONTAINER */
        .circle {
            width: 100px; height: 100px;
            background-color: var(--canvas);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: transform 0.3s ease;
            user-select: none;
            box-shadow: 0 0 0 4px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden; /* Clips the mini canvas to a circle */
        }
        .circle:hover { transform: scale(1.1); }
        .circle:active { transform: scale(0.95); }

        /* THE MINI BUTTON CANVAS */
        #btn-canvas {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
        }

        /* --- LEFT COL --- */
        .manifesto {
            grid-column: 1 / span 4;
            grid-row: 2;
            padding: 40px;
            border-right: 2px solid var(--ink);
            background-color: var(--kermit);
            color: var(--canvas);
            display: flex; flex-direction: column; justify-content: space-between;
        }

        /* --- RIGHT COL --- */
        .archive-section {
            grid-column: 5 / span 8;
            grid-row: 2;
            padding: 0; 
        }

        /* --- DRAWERS --- */
        details {
            border-bottom: 1px solid var(--ink);
            padding: 20px 40px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        details:hover { background-color: rgba(255,255,255,0.3); }
        details[open] { background-color: rgba(255,255,255,0.8); }

        summary {
            font-family: 'Helvetica', 'Arial', sans-serif;
            font-size: 2rem; font-weight: bold;
            list-style: none; display: flex; justify-content: space-between; align-items: center;
        }
        summary::after { content: "+"; font-weight: normal; }
        details[open] summary::after { content: "-"; }

        .drawer-content { padding-top: 20px; font-size: 1rem; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- FEED STYLING (TEXT ONLY + SCROLLABLE) --- */
        .feed-container {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            
            /* THE SCROLL FIX: */
            max-height: 500px;      /* Limits height so it doesn't stretch page */
            overflow-y: auto;       /* Adds scrollbar if content is too long */
            padding-right: 10px;    /* Space for scrollbar */
            
            /* Scrollbar styling for Chrome/Safari/Edge */
            scrollbar-width: thin;
            scrollbar-color: var(--kermit) transparent;
        }
        
        /* Custom Scrollbar Webkit */
        .feed-container::-webkit-scrollbar { width: 6px; }
        .feed-container::-webkit-scrollbar-track { background: transparent; }
        .feed-container::-webkit-scrollbar-thumb { background-color: var(--kermit); border-radius: 3px; }

        .entry { 
            margin-bottom: 10px; 
            border-left: 4px solid var(--kermit); 
            padding-left: 20px; 
            padding-top: 5px;
            padding-bottom: 5px;
            transition: border-color 0.3s ease;
        }
        
        .entry:hover {
            border-left-color: var(--celestial); 
        }

        .entry-date { 
            font-family: 'Courier New', monospace;
            font-size: 0.75rem; 
            font-weight: bold; 
            opacity: 0.6; 
            margin-bottom: 4px; 
            text-transform: uppercase;
        }

        .entry-title {
            margin-bottom: 5px;
        }

        /* Link Styling */
        .entry-title a { 
            font-family: 'Helvetica', sans-serif; 
            font-size: 1.4rem; 
            font-weight: bold; 
            color: var(--ink); 
            text-decoration: none; 
            text-transform: uppercase; 
            line-height: 1.1;
        }
        .entry-title a:hover { 
            background-color: var(--celestial); 
            color: #fff; 
        }

        /* Text Only Styling */
        .entry-title span {
            font-family: 'Helvetica', sans-serif; 
            font-size: 1.4rem; 
            font-weight: bold; 
            color: var(--ink); 
            text-transform: uppercase; 
            line-height: 1.1;
        }

        .entry-desc { 
            margin-top: 5px; 
            font-size: 0.95rem; 
            white-space: pre-wrap; 
            max-width: 90%;
        }
        
        /* Highlight for the First Item (Newest) */
        .entry:first-child {
            border-left: 4px solid var(--celestial); 
        }
        .entry:first-child .entry-date::after {
            content: " < NEW SIGNAL";
            color: var(--celestial);
            font-weight: bold;
        }

        /* --- FOOTER --- */
        .footer {
            grid-column: 1 / -1;
            border-top: 2px solid var(--ink);
            padding: 20px;
            font-family: 'Helvetica', sans-serif;
            display: flex; justify-content: space-between;
        }

        h1 { font-family: 'Helvetica', sans-serif; font-size: 4rem; line-height: 0.9; letter-spacing: -2px;}
        
        @media (max-width: 768px) {
            .container { display: flex; flex-direction: column; }
            .header, .symbol, .manifesto, .archive-section { border-right: none; border-bottom: 2px solid var(--ink); }
        }
        
        /* --- DARK MODE --- */
        @media (prefers-color-scheme: dark) {
            :root {
                --canvas: #050505;      
                --ink: #e6e4dc;         
                --kermit: #79d400;      
                --celestial: #29b4ff;   
            }
            .container {
                background: rgba(10, 10, 10, 0.6); 
                border-color: var(--ink);
            }
            details:hover { background-color: rgba(255,255,255,0.1); }
            details[open] { background-color: rgba(255,255,255,0.15); }
            
            .circle {
                background-color: var(--ink); 
                color: var(--canvas);         
                box-shadow: 0 0 0 4px rgba(255,255,255,0.2);
            }
            #hlsf-canvas { opacity: 0.8; }
            
            .entry-title a, .entry-title span { color: var(--ink); }
        }
    </style>
</head>
<body>

    <canvas id="hlsf-canvas"></canvas>

    <div class="container">
        <div class="header">
            <h1>grief<br>genius</h1>
            <p style="margin-top: 20px;">turtle island // east coast </p>
        </div>

        <div class="symbol">
            <div class="circle" id="play-trigger">
                <canvas id="btn-canvas" width="100" height="100"></canvas>
            </div>
        </div>

        <div class="manifesto">
            <div>
                <p><strong>brief dreams, grief genie.</strong></p>
                <p>a multimodal collective <br> the only way through <br> is throughout <br> </p>
            </div>
            <div style="margin-top: 40px; font-size: 0.9rem; opacity: 0.8;">
                <p> </p>
            </div>
        </div>

        <div class="archive-section">
            <details open> 
                <summary>recent motion</summary>
                <div class="drawer-content">
                    <span class="tagline">log stream // newest on top</span>
                    
                    <div id="feed-container" class="feed-container">
                        <div id="loading" style="opacity: 0.5;">connecting to griefgeniuspostinggenie...</div>
                    </div>

                </div>
            </details>

            <details>
                <summary>galactic north records</summary>
                <div class="drawer-content">
                    <span class="tagline">a stellar record label</span>
                    <div style="background: var(--celestial); color: white; padding: 20px; text-align: center; margin-top: 20px;">
                        <a href="https://www.galacticnorthrecords.com" target="_blank" style="color: white; text-decoration: none; font-weight: bold;">www.galacticnorthrecords.com</a>
                    </div>
                </div>
            </details>

            <details>
                <summary>services // protocols</summary>
                <div class="drawer-content">
                    <p>offering multi-modal production support scaled to the notion, scope, and dream of the work.</p>
                    <div style="margin-top:20px; padding:10px; border:1px dashed var(--ink);">
                         <strong>>> ADJUSTABLE SCALE</strong>
                    </div>
                </div>
            </details>
        </div>

        <div class="footer">
            <span>&copy; 2025</span>
            <span>contact</span>
        </div>
    </div>

    <script>
        // --- 1. SIGNATURE ---
        console.log("%c grief genius \n %c log off, tune down, lock in. ", "font-size: 20px; font-weight: bold; background: #F2F0E9;", "color: #69b400;");

        // --- 2. CONFIG ---
        const PALETTE = {
            KERMIT: '#69b400',       
            CELESTIAL: '#088ec9',    
            INK: '#1A1A1A'        
        };

        // --- 3. MAIN HLSF (BACKGROUND) ---
        const mainCanvas = document.getElementById('hlsf-canvas');
        const mainCtx = mainCanvas.getContext('2d');
        let width, height;
        let time = 0;

        function resize() {
            width = mainCanvas.width = window.innerWidth;
            height = mainCanvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        function drawPoly(ctx, x, y, radius, sides, level, maxLevels, rotationOffset, colorA, colorB, lineWidthFactor, opacityFactor) {
            if (level > maxLevels || radius < 1) return;

            ctx.beginPath();
            const angleStep = (Math.PI * 2) / sides;
            
            for (let i = 0; i < sides; i++) {
                const theta = i * angleStep + rotationOffset;
                const px = x + Math.cos(theta) * radius;
                const py = y + Math.sin(theta) * radius;
                if (i === 0) ctx.moveTo(px, py);
                else ctx.lineTo(px, py);
            }
            ctx.closePath();
            
            ctx.strokeStyle = level % 2 === 0 ? colorA : colorB;
            ctx.lineWidth = lineWidthFactor / level; 
            ctx.globalAlpha = opacityFactor / Math.pow(level, 0.3); 
            ctx.stroke();

            if (level < maxLevels) {
                const nextRadius = radius * 0.70; // Tighter recursion for the button
                for (let i = 0; i < sides; i++) {
                    const theta = i * angleStep + rotationOffset;
                    const nextX = x + Math.cos(theta) * radius;
                    const nextY = y + Math.sin(theta) * radius;
                    drawPoly(ctx, nextX, nextY, nextRadius, sides, level + 1, maxLevels, rotationOffset, colorA, colorB, lineWidthFactor, opacityFactor);
                }
            }
        }

        // --- 4. BUTTON STATE ENGINE ---
        const btnCanvas = document.getElementById('btn-canvas');
        const btnCtx = btnCanvas.getContext('2d');
        let btnTime = 0;
        
        let isPlaying = false;
        let currentAudio = null;
        
        const sounds = [,'Dandelion.wav' 'Dead Butterfly.wav', 'Figure8.wav', 'Forcythia.wav', 'My kids are getting too big.wav', 'Outdoors night August.wav', 'Recording 116.wav', 'Recording 76.wav', 'Something sweet.wav', 'futurechocolate.mp3']; 

        // --- 5. ANIMATION LOOP ---
        function animate() {
            mainCtx.clearRect(0, 0, width, height);
            time += 0.0003; 
            const cx = width / 9;
            const cy = height / 8;
            
            drawPoly(mainCtx, cx, cy, Math.min(width, height) * 0.40, 8, 1, 2, time, PALETTE.CELESTIAL, PALETTE.KERMIT, 28, 0.7);
            drawPoly(mainCtx, cx, cy, Math.min(width, height) * 0.45, 8, 1, 1, -time * 1.5, PALETTE.CELESTIAL, PALETTE.KERMIT, 28, 0.7);

            btnCtx.clearRect(0.7, 100, 100, 100);
            
            if(isPlaying) {
                btnTime += 0.05; 
            } else {
                btnTime = 0; 
            }

            if (isPlaying) {
                drawPoly(btnCtx, 50, 50, 25, 3, 1, 2, 0 + btnTime + (Math.PI/1), PALETTE.CELESTIAL, PALETTE.KERMIT, 1, 2);
            } else {
                drawPoly(btnCtx, 50, 50, 25, 3, 1, 1, 0, PALETTE.CELESTIAL, PALETTE.KERMIT, 1, 9);
            }
            
            requestAnimationFrame(animate);
        }
        animate();

        // --- 6. INTERACTION ENGINE ---
        const playBtn = document.getElementById('play-trigger');
        
        playBtn.addEventListener('click', () => {
            if (isPlaying) {
                if (currentAudio) {
                    currentAudio.pause();
                    currentAudio.currentTime = 0;
                }
                isPlaying = false;
            } else {
                if (!sounds.length) return;
                const file = sounds[Math.floor(Math.random() * sounds.length)];
                currentAudio = new Audio(file);
                currentAudio.onended = () => { isPlaying = false; };
                currentAudio.play();
                isPlaying = true;
            }
        });

        // --- 7. FEED ENGINE (UPDATED WITH TEXT FIX & REVERSE) ---
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS_-ll6bQFpl9Sw1ppGxJ-eiRXfDnCHCRrST9s5IAbsu8kZ4uX0h7kub3og6rImPDA3pekJryE961Uw/pub?gid=84760283&single=true&output=csv';

        async function loadFeed() {
            try {
                const res = await fetch(sheetUrl);
                const txt = await res.text();
                // NOTE: Added .reverse() so newest spreadsheet rows appear FIRST (top)
                const rows = txt.split('\n').slice(1).reverse();
                
                const box = document.getElementById('feed-container');
                box.innerHTML = '';
                
                rows.forEach(r => {
                    const c = r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                    if(c.length < 5) return; 
                    
                    const clean = t => t ? t.replace(/^"|"$/g, '').trim() : "";
                    
                    const title = clean(c[2]); 
                    let link = clean(c[3]);    
                    const desc = clean(c[4]);  
                    const date = clean(c[5]) || clean(c[0]).split(' ')[0]; 

                    // FIX 1: HTTPS Force
                    if (link && !link.match(/^https?:\/\//) && link.includes('.')) {
                        link = 'https://' + link;
                    }

                    // FIX 2: Text vs Link Logic
                    let titleHtml = '';
                    if (link) {
                        titleHtml = `<a href="${link}" target="_blank">${title}</a>`;
                    } else {
                        titleHtml = `<span>${title}</span>`;
                    }

                    const html = `
                        <div class="entry">
                            <div class="entry-date">${date}</div>
                            <div class="entry-title">${titleHtml}</div>
                            <div class="entry-desc">${desc}</div>
                        </div>
                    `;
                    
                    if(title) box.innerHTML += html;
                });
            } catch(e) { 
                console.log(e);
                document.getElementById('loading').innerText = 'signal lost.'; 
            }
        }
        loadFeed();
    </script>
</body>
</html>
